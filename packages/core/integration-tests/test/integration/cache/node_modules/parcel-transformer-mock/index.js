const Transformer = require('@parcel/plugin').Transformer;

module.exports = new Transformer({
  transform({asset}) {
    if (asset.isSource) {
      asset.addDependency({
        moduleSpecifier: 'foo'
      });
      return [asset];
    }

    const {message} = require('./constants');
    return [
      {
        type: 'js',
        content: message,
      },
    ];
  }
});
